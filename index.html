<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="main_container">
      <section class="form_sec">
        <h1>Stay updated!</h1>
        <p>
          Join 60,000+ product managers receiving monthly <br />
          updates on:
        </p>
        <ul>
          <li>
            <img src="assets/images/icon-list.svg" />
            <p>Product discovery and building what matters</p>
          </li>
          <li>
            <img src="assets/images/icon-list.svg" />
            <p>Measuring to ensure updates are a success</p>
          </li>
          <li>
            <img src="assets/images/icon-list.svg" />
            <p>And much more</p>
          </li>
        </ul>

        <form id="email_form_container" action="page2index.html" method="get">
          <label for="email" id="email">Email address</label><br />
          <span class="error-alert" id="error-alert"></span>

          <div class="input_container" id="input_container">
            <input
              class="input"
              id="input"
              type="email"
              placeholder="example@gmail.com"
              onkeyup="validateEmail()"
            />
          </div>
          <input
            type="submit"
            id="sub_btn"
            onclick="sub_form()"
            value="Subscribe to monthly newsletter"
          />
        </form>
      </section>
      <section class="img_sec">
        <img src="assets/images/illustration-sign-up-desktop.svg" />
      </section>
    </div>
    <script>
      var emailField = document.getElementById("input");
      var emailLabel = document.getElementById("email");
      var errMSG = document.getElementById("error-alert");

      function validateEmail() {
        if (
          !emailField.value.match(
            /^[A-Za-z\._\-0-9]*[@][A-Za-z]*[\.][a-z]{2,4}$/
          )
        ) {
          errMSG.innerHTML = "Valid email required";
          emailField.style.border = "2px solid #c92432";
          emailField.style.backgroundColor = "2px solid red";
          return false;
        }

        errMSG.innerHTML = "";
        emailField.style.border = "1px solid green";

        //deleting the white space around

        return true;
      }

      let email_form_container = document.getElementsById(
        "email_form_container"
      );

      function sub_form() {
        const email_id = emailField.value.trim();

        localStorage.setItem("email_id", email_id);
        console.log(email_id);
        return false;
      }
    </script>
  </body>
</html>
